<div cdkDropListGroup>
  <div class="dashboard-header">
    <h2>Dashboard</h2>
    <button
      mat-raised-button
      (click)="toggleWidgetsPanel()">
      @if (widgetsOpen()) {
        <mat-icon>close</mat-icon>
      }@else {
        <mat-icon>add</mat-icon>
      } Widgets

    </button>

    @if (widgetsOpen()) {
      <app-widgets-panel cdkDropList (cdkDropListDropped)="widgetPutPack($event)"></app-widgets-panel>
    }

    <!--  <mat-menu #menu="matMenu">-->
    <!--    @for (widget of store.widgetsToAdd(); track widget.id) {-->
    <!--      <button mat-menu-item (click)="onAddWidget(widget)">{{ widget.label }}</button>-->
    <!--    } @empty {-->
    <!--      <button mat-menu-item disabled>No Widgets To Add</button>-->
    <!--    }-->
    <!--  </mat-menu>-->
  </div>
  <div #dashboard class="dashboard-widgets" >
    @for (widget of store.addedWidgets(); track widget.id) {
      <app-widget cdkDropList
                  [data]="widget"
                  (cdkDropListDropped)="drop($event)"
                  [cdkDropListData]="widget.id"></app-widget>
    }
    <div cdkDropList (cdkDropListDropped)="drop($event)"></div>
  </div>

</div>
